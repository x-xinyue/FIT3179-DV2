{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "description": "Bump chart showing rank of food categories driving inflation (2022â€“2025).",
  "data": {
    "values": [
      {"year": 2022, "category": "Chicken", "price": 13.748, "rank": 4},
      {"year": 2022, "category": "Rice", "price": 22.687, "rank": 5},
      {"year": 2022, "category": "Sugar", "price": 2.894, "rank": 1},
      {"year": 2022, "category": "Oils and Fats", "price": 23.623, "rank": 6},
      {"year": 2022, "category": "Eggs", "price": 7.178, "rank": 3},
      {"year": 2022, "category": "Flour", "price": 3.063, "rank": 2},

      {"year": 2023, "category": "Chicken", "price": 13.808, "rank": 4},
      {"year": 2023, "category": "Rice", "price": 23.180, "rank": 6},
      {"year": 2023, "category": "Sugar", "price": 2.989, "rank": 1},
      {"year": 2023, "category": "Oils and Fats", "price": 22.237, "rank": 5},
      {"year": 2023, "category": "Eggs", "price": 7.182, "rank": 3},
      {"year": 2023, "category": "Flour", "price": 3.296, "rank": 2},

      {"year": 2024, "category": "Chicken", "price": 13.500, "rank": 4},
      {"year": 2024, "category": "Rice", "price": 29.106, "rank": 6},
      {"year": 2024, "category": "Sugar", "price": 3.087, "rank": 1},
      {"year": 2024, "category": "Oils and Fats", "price": 21.293, "rank": 5},
      {"year": 2024, "category": "Eggs", "price": 7.400, "rank": 3},
      {"year": 2024, "category": "Flour", "price": 3.327, "rank": 2},

      {"year": 2025, "category": "Chicken", "price": 12.818, "rank": 4},
      {"year": 2025, "category": "Rice", "price": 28.845, "rank": 6},
      {"year": 2025, "category": "Sugar", "price": 3.064, "rank": 1},
      {"year": 2025, "category": "Oils and Fats", "price": 21.187, "rank": 5},
      {"year": 2025, "category": "Eggs", "price": 8.440, "rank": 3},
      {"year": 2025, "category": "Flour", "price": 3.390, "rank": 2}
    ]
  },

  "width": "container",
  "height": 350,

  "encoding": {
    "color": {
      "field": "category",
      "type": "nominal",
      "title": "Food Category",
      "sort": ["Sugar", "Flour", "Eggs", "Chicken", "Oils and Fats", "Rice"],
      "legend": {"orient": "right"},
        "scale": {
    "range": [
      "#2c4875",  
      "#8a508f",   
      "#de5a79",   
      "#ffa600",   
      "#ec8a3a",  
      "#76451d"   
    ]
  }
    }
  },

  "layer": [
    {
      "mark": {"type": "line", "strokeWidth": 5, "interpolate": "linear", "opacity": 0.85},
      "encoding": {
        "x": {
          "field": "year",
          "type": "ordinal",
          "axis": {
            "title": null,
            "labelFontSize": 13,
            "labelFontWeight": "bold",
            "labelAngle": 0,
            "domain": false,
            "ticks": false,
            "grid": false,
            "offset": 25
          }
        },
        "y": {
          "field": "rank",
          "type": "quantitative",
          "title": "Rank (1 = Highest)",
          "scale": {"domain": [6, 1]},
          "axis": null
        },
        "detail": {"field": "category"}
      }
    },
    {
      "mark": {"type": "point", "filled": true, "size": 500, "opacity": 0.9},
      "encoding": {
        "x": {"field": "year", "type": "ordinal"},
        "y": {"field": "rank", "type": "quantitative"},
        "tooltip": [
          {"field": "year", "title": "Year"},
          {"field": "category", "title": "Food Category"},
          {"field": "price", "title": "Price (RM)", "format": ".2f"},
          {"field": "rank", "title": "Rank"}
        ]
      }
    },
    {
      "mark": {
        "type": "text",
        "dy": 0,
        "fontSize": 11,
        "fontWeight": "bold",
        "color": "white"
      },
      "encoding": {
        "x": {"field": "year", "type": "ordinal"},
        "y": {"field": "rank", "type": "quantitative"},
        "text": {"field": "rank"},
        "color": {"value": "white"}
      }
    }
  ],

  "config": {
    "view": {"stroke": null},
    "axis": {
      "labelFontSize": 13,
      "titleFontSize": 13,
      "labelPadding": 15,
      "labelColor": "#333",
      "titleColor": "#333"
    },
    "legend": {"titleFontSize": 15,
      "titleColor": "#333",
      "labelFontSize": 13,
      "labelColor": "#333"}
  }
}
